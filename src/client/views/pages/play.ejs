<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Title</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous" />
		<style>
			.lobby {
				cursor: pointer;
			}
			#game {
				display: none
			}
		</style>
	</head>
	<body>
		<div id="lobby">
			<%- include('../partials/nav', {current: 'play'})%>

			<div id="lobbyContainer"></div>
		</div>

		<div id="game">

			<canvas id="gameCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%;"></canvas>

			<div id="chatBox">
				<div id="chatMessages"></div>
				<div id="inputWrapper">
					<input type="text" id="chatInput" class="form-control" placeholder="Press &quot;Enter&quot; to type...">
					<button id="chatSend" class="btn btn-primary">Send</button>
				</div>
			</div>

			<style>
				#playerList {
					position: fixed;
					top: 0;
					right: 0;
					width: 200px; /* Adjust as needed */
					height: 100vh; /* Full height */
					padding: 20px;
					background-color: #f8f9fa; /* Light gray */
					overflow-y: auto; /* Add a scrollbar if the content is too long */
					box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1); /* Add a shadow for a 3D effect */
				}

				#playerList li {
					list-style-type: none; /* Remove bullet points */
					font-size: 1.5em; /* Increase the font size */
					margin-bottom: 10px; /* Add some space between the names */
				}

				#gameCanvas {
					position: fixed;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background-color: white;
				}

				#chatBox {
					position: absolute;
					bottom: 0;
					left: 0;
					width: 400px;
					height: 190px;
					background-color: #f8f9fa;
					border: 1px solid #ccc;
					padding: 10px;
					box-shadow: -2px 2px 5px rgba(0, 0, 0, 0.1);
					display: flex;
					flex-direction: column;
					justify-content: space-between;
					z-index: 1;
					border-radius: 10px; /* Add border radius for a softer look */
				}

				#chatMessages {
					flex-grow: 1;
					overflow-y: auto;
					margin-bottom: 10px; /* Add some space between the messages and the input field */
				}

				#inputWrapper {
					position: relative;
				}

				#chatInput {
					padding-right: 30px; /* Adjust as needed */
				}

				#chatSend {
					position: absolute;
					right: 10px; /* Adjust as needed */
					top: 50%;
					transform: translateY(-50%);
					border-radius: 50%;
					width: 30px; /* Adjust as needed */
					height: 30px; /* Adjust as needed */
					padding: 0;
					text-indent: -9999px; /* Hide the text */
					background: #56a5e8 url('../../images/white-arrow.png') no-repeat 9px center;
					background-size: 45%; /* Make the icon bigger */
					border: none; /* Remove the border */
				}
			</style>



			<!-- Modal -->
			<div class="container d-flex justify-content-center align-items-center vh-100">
				<div class="text-center">
					<h1 class="display-1">Game</h1>
					<p class="lead">This is a blank page for now.</p>
					<p class="lead">
						Return to <a href="/">Home</a>
					</p>
					<ul id="playerList"></ul>
				</div>
			</div>

			<div class="modal" id="usernameModal" tabindex="-1" aria-labelledby="usernameModalLabel" aria-hidden="true" data-bs-backdrop="static">
				<div class="modal-dialog modal-dialog-centered">
					<div class="modal-content">
						<div class="modal-header">
							<!-- Remove the close button from the modal header -->
						</div>
						<div class="modal-body">
							<!-- Username input field -->
							<input type="text" class="form-control" id="usernameInput" placeholder="Enter your username">
							<!-- Error message area -->
							<div id="usernameError" class="text-danger" style="text-align: center;"></div>
						</div>
						<div class="modal-footer justify-content-center">
							<button type="button" class="btn btn-primary" id="confirmUsernameBtn" >Confirm</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
			crossorigin="anonymous"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script src="game.js"></script>
	</body>
</html>
